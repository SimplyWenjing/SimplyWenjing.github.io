function getRank(){for(var e=[],r=0,t=document.forms[0],a=0;a<t.elements.length;a++){var n=t.elements[a];n.flag=0,n.name.length&&n.checked&&(n.flag=1,e.push(n.value))}problem=[0,0,0,0,0,0,0];for(var o=0;o<t.elements.length;o++){var c=Math.floor(o/5);0==c?problem[c]+=t.elements[o].flag:1==c?problem[c]+=t.elements[o].flag:2==c?problem[c]+=t.elements[o].flag:3==c?problem[c]+=t.elements[o].flag:4==c?problem[c]+=t.elements[o].flag:5==c?problem[c]+=t.elements[o].flag:6==c&&(problem[c]+=t.elements[o].flag)}for(var l=0;l<7;l++)if(0==problem[l]){var s=l+1;alert("问卷问题"+s+"未填写")}for(var p=e.map(function(e,r,t){switch(e){case"A":return e=10;case"B":return e=8;case"C":return e=5;case"D":return e=3;case"E":return e=0}}),a=0;a<p.length;a++)r+=parseInt(p[a]);return r}function getRankscore(e){var r;return e<=15?r=.9:e>15&&e<=30?r=.7:e>30&&e<=45?r=.5:e>45&&e<=60?r=.3:e>60&&(r=.1),r}var questionBtn=document.getElementById("Q-btn"),show_tip=document.getElementById("user-risk");questionBtn.addEventListener("click",function(e){e.preventDefault();var r=getRank();show_tip.style.display="block";var t=document.getElementById("result");if(0<r&&r<=15){var a="",n="得分："+r+";保守型——低风险级别产品",o="您的风险承担能力水平比较低，您关注资产的安全性远超于资产的收益性，所以低风险 、高流动性的投资品种比较适合您，这类投资的收益相对偏低。";a+="<span class='user-risk-span'>"+n+"</span>",a+="<p class='user-risk-p'>"+o+"</p>",t.innerHTML=a}else if(15<r&&r<=30){var a="",n="得分："+r+";稳健型——较低风险级别产品",o="您有比较有限的风险承受能力，对投资收益比较敏感，期望通过短期、持续、渐进的投资获得高于定期存款的回报。所以较低等级风险的产品如保本保息的固定收益类，比较适合您，适当回避风险的同时保证收益，跑赢通胀。";a+="<span class='user-risk-span'>"+n+"</span>",a+="<p class='user-risk-p'>"+o+"</p>",t.innerHTML=a}else if(30<r&&r<=45){var a="",n="得分："+r+";平衡型——中等风险级别产品",o="您有一定的风险承受能力，对投资收益比较敏感，期望通过长期且持续的投资获得高于平均水平的回报，通常更注重十年甚至更长期限内的平均收益。所以中等风险收益的投资品种比较适合您，回避风险的同时有一定的收益保证。";a+="<span class='user-risk-span'>"+n+"</span>",a+="<p class='user-risk-p'>"+o+"</p>",t.innerHTML=a}else if(45<r&&r<=60){var a="",n="得分："+r+";积极型——较高风险级别产品",o="您有中高的风险承受能力，愿意承担可预见的投资风险去获取更多的收益，一般倾向于进行中短期投资。所以中高等级的风险收益投资品种比较适合您，以一定的可预见风险换取超额收益。";a+="<span class='user-risk-span'>"+n+"</span>",a+="<p class='user-risk-p'>"+o+"</p>",t.innerHTML=a}else if(60<r&&r<70){var a="",n="得分："+r+";激进型——高风险级别产品",o="您有较高的风险承受能力，是富有冒险精神的积极型选手。在投资收益波动的情况下，仍然保持积极进取的投资理念。短期内投资收益的下跌被您视为加注投资的利好机会。您适合从事灵活、风险与报酬都比较高的投资，不过要注意不要因一时的高报酬获利而将全部资金投入高风险操作，务必做好风险管理与资金调配工作。";a+="<span class='user-risk-span'>"+n+"</span>",a+="<p class='user-risk-p'>"+o+"</p>",t.innerHTML=a}},!1);var close=document.getElementById("risk-close");close.addEventListener("click",function(){show_tip.style.display="none"},!1);var radio=document.getElementById("radio"),duration=document.getElementById("duration"),acceptance_level=document.getElementById("acceptance-level"),radiopre_score=1,durationpre_score=1,acceptance_levelpre_score=1;radio.onchange=function(){var e=radio.options,r=radio.selectedIndex;1==e[r].index?radiopre_score=.2:2==e[r].index?radiopre_score=.5:3==e[r].index?radiopre_score=.7:4==e[r].index?radiopre_score=.8:5==e[r].index&&(radiopre_score=.9)},duration.onchange=function(){var e=duration.options,r=duration.selectedIndex;1==e[r].index?durationpre_score=.9:2==e[r].index?durationpre_score=.7:3==e[r].index?durationpre_score=.5:4==e[r].index?durationpre_score=.4:5==e[r].index?durationpre_score=.2:6==e[r].index&&(durationpre_score=.1)},acceptance_level.onchange=function(){var e=acceptance_level.options,r=acceptance_level.selectedIndex;1==e[r].index?acceptance_levelpre_score=.9:2==e[r].index?acceptance_levelpre_score=.7:3==e[r].index?acceptance_levelpre_score=.5:4==e[r].index?acceptance_levelpre_score=.3:5==e[r].index&&(acceptance_levelpre_score=.1)};var platform=[{platname:"翼龙贷-翼农计划",vector:[.8,.9,.2,.7],totalscore:0},{platname:"陆金所-安盈票据",vector:[.7,.7,.2,.8],totalscore:0},{platname:"链家理财-家多宝",vector:[.9,.9,.2,.8],totalscore:0},{platname:"积木盒子-项目集",vector:[.7,.9,.2,.8],totalscore:0},{platname:"有利网-定存宝",vector:[.7,.7,.5,.7],totalscore:0},{platname:"宜人贷-宜定赢1",vector:[.7,.9,.5,.7],totalscore:0},{platname:"陆金所-稳赢-安e",vector:[.8,.9,.2,.7],totalscore:0},{platname:"开鑫贷-变现贷",vector:[.8,.7,.5,.8],totalscore:0},{platname:"开鑫贷-保鑫汇",vector:[.6,.2,.5,.8],totalscore:0},{platname:"有利网-月息通",vector:[.4,.1,.7,.7],totalscore:0},{platname:"银客网-优房宝",vector:[.8,.9,.2,.7],totalscore:0},{platname:"易贷网-债权质押借款",vector:[.7,.9,.7,.8],totalscore:0},{platname:"宜人贷-宜定赢2",vector:[.4,.2,.7,.7],totalscore:0},{platname:"小牛在线-安心牛",vector:[.5,.7,.7,.4],totalscore:0},{platname:"微贷网-质押",vector:[.6,.7,.7,.7],totalscore:0},{platname:"投哪网-年省心",vector:[.5,.4,.7,.6],totalscore:0},{platname:"人人贷-资金周转",vector:[.5,.4,.7,.9],totalscore:0},{platname:"ppmoney-懒人宝",vector:[.5,.5,.7,.4],totalscore:0},{platname:"ppmoney-分期宝",vector:[.2,.5,.7,.4],totalscore:0},{platname:"微贷网-大众CC抵押",vector:[.4,.4,.8,.7],totalscore:0},{platname:"爱钱进-散标",vector:[.2,.1,.8,.6],totalscore:0},{platname:"拍拍贷-个人借款",vector:[.2,.4,.9,.7],totalscore:0},{platname:"陆金所-财富汇-产品",vector:[.1,.1,.9,.8],totalscore:0}],submit=document.getElementById("recommend-btn"),recommend_result=document.getElementById("recommend-result"),show_result=document.getElementById("recommend_result"),recommend_illustrate=document.getElementById("recommend_illustrate");submit.onclick=function(){function e(e,r){var t=new Array;for(i=0;i<e;i++)for(t[i]=new Array,n=0;n<r;n++)t[i][n]="";return t}function r(){for(var e=0;e<7;e++)l+=problem[e];if(7==l&&1!=radiopre_score&&1!=durationpre_score&&1!=acceptance_levelpre_score){for(var r=0;r<platform.length;r++){platform[r].totalscore=0;for(var a=0;a<4;a++)platform[r].totalscore+=platform[r].vector[a]*o[a];c[r][0]=platform[r].totalscore,c[r][1]=platform[r].platname}for(var n=0;n<23;n++)for(var s=0;s<23-n-1;s++)if(c[s][0]<c[s+1][0]){var p=c[s][0];c[s][0]=c[s+1][0],c[s+1][0]=p;var i=c[s][1];c[s][1]=c[s+1][1],c[s+1][1]=i}}for(var r=0;r<6;r++){var a=r+1;t+="<li><span>TOP"+a+"</span><span>"+c[r][1]+"</span><span>"+c[r][0].toFixed(3)+"</span></li>"}recommend_result.innerHTML=t,recommend_illustrate.style.display="none",show_result.style.display="block"}var t="<li><span>排名</span><span>平台</span><span>总分</span></li>";1==radiopre_score&&alert("投资收益率倾向未选择"),1==durationpre_score&&alert("投资期限倾向未选择"),1==acceptance_levelpre_score&&alert("听取舆论评价程度倾向未选择");var a=getRankscore(getRank()),o=[a,durationpre_score,radiopre_score,acceptance_levelpre_score],c=e(23,2),l=0;r()};